<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">

  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JSON Validator — Free & Secure (Local)</title>
  <meta name="description"
    content="Validate, format and minify JSON directly in your browser. Your data never leaves your device." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="style.css" />
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "@id": "https://json-validator-eta.vercel.app/#website",
      "url": "https://json-validator-eta.vercel.app/",
      "name": "JSON Validator",
      "inLanguage": "en",
      "publisher": {
        "@type": "Person",
        "name": "Igor Silva"
      }
    },
    {
      "@type": "SoftwareApplication",
      "@id": "https://json-validator-eta.vercel.app/#app",
      "name": "JSON Validator",
      "url": "https://json-validator-eta.vercel.app/",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Web",
      "isAccessibleForFree": true,
      "author": {
        "@type": "Person",
        "name": "Igor Silva"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Validate, format, minify and sort JSON keys directly in your browser. Your data never leaves your device."
    }
  ]
}
</script>
</head>

<body>
  <div class="layout">
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-title">
          <img src="favicon.svg" alt="" class="brand-icon">
          <h1 style="font-size: 24px;">JSON Validator</h1>
        </div>
        <small>Tools & guides</small>
      </div>

      <nav class="nav">
        <a href="index.html" aria-current="page">
          <img src="icons/home.svg" alt="" class="menu-icon">
          Home
        </a>
        <a href="what-is-json.html">
          <img src="icons/question.svg" alt="" class="menu-icon">
          What is JSON?
        </a>
        <a href="common-json-errors.html">
          <img src="icons/error.svg" alt="" class="menu-icon">
          Common JSON Errors
        </a>
        <a href="json-best-practices.html">
          <img src="icons/good.svg" alt="" class="menu-icon">
          Best Practices
        </a>
      </nav>

      <div class="sidebarNote">
        Tip: All processing is local in your browser.
      </div>
    </aside>

    <div class="main">
      <div class="wrap">
        <p class="subtitle">
          Validate, format and minify JSON <strong>directly in your browser</strong>. Your data is <strong>never
            sent</strong> to a server.
        </p>

        <main class="card" role="region" aria-label="Editor and tools" style="padding:0px">
          <div class="toolbar">
            <div class="btns">
              <button class="action primary" id="btnValidate" type="button"
                style="background: linear-gradient(180deg, rgba(0, 208, 255, .22), rgba(0, 208, 255, .08))">Validate</button>
              <button class="action" id="btnFormat" type="button">Format</button>
              <button class="action" id="btnSort" type="button">Sort Keys</button>
              <button class="action" id="btnMinify" type="button">Minify</button>
              <button class="action ghost" id="btnCopy" type="button">Copy</button>
              <button class="action ghost" id="btnSample" type="button"
                title="Insert a valid sample JSON">Sample</button>
              <button class="action danger" id="btnClear" type="button">Clear</button>
            </div>

            <div class="stats" aria-label="Content stats">
              <span class="statPill" id="statChars">0 characters</span>
              <span class="statPill" id="statLines">0 lines</span>
            </div>
          </div>

          <textarea id="jsonInput" class="editor" spellcheck="false" autocomplete="off" autocapitalize="off"
            autocorrect="off" placeholder='Paste your JSON here. Example: {"name":"John Snow","ok":true}'
            aria-label="JSON input"></textarea>

          <div class="status" aria-live="polite" aria-atomic="true">
            <div class="msg" id="statusMsg">
              <span class="icon warn" aria-hidden="true"></span>
              <div>
                <strong>Ready.</strong>
                <p>Paste JSON and click <b>Validate</b>.</p>
              </div>
            </div>

            <div class="hint">
              Shortcuts: <b>Ctrl/⌘ + Enter</b> validate • <b>Ctrl/⌘ + B</b> format • <b>Ctrl/⌘ + M</b> minify.
            </div>
          </div>


        </main>
        <br>
        <hr>

        <section style="margin-top:40px;">
          <h2>What is JSON Validation?</h2>
          <p>
            JSON validation ensures that your JSON data follows the correct syntax rules
            defined by the JSON specification. Invalid JSON can cause APIs, applications,
            and data pipelines to fail.
          </p>
          <p>
            Our JSON Validator helps developers quickly detect syntax errors such as:
          </p>
          <ul>
            <li>Missing commas</li>
            <li>Incorrect quotation marks</li>
            <li>Trailing commas</li>
            <li>Unclosed brackets or braces</li>
          </ul>

          <p>
            See <a href="what-is-json.html">What is Json</a> page.
          </p>
        </section>

        <hr>

        <section style="margin-top:30px;">
          <h2>How to Use the JSON Validator</h2>
          <ol>
            <li>Paste your JSON into the editor.</li>
            <li>Click <strong>Validate</strong> to check for errors.</li>
            <li>Use <strong>Format</strong> to pretty-print your JSON.</li>
            <li>Use <strong>Minify</strong> to remove unnecessary whitespace.</li>
          </ol>
        </section>

        <hr>

        <section style="margin-top:30px;">
          <h2>Why Use an Online JSON Validator?</h2>
          <p>
            Validating JSON before sending it to production systems prevents bugs and
            unexpected failures. A reliable JSON validation tool helps ensure that
            your data is correctly structured and compliant with standards.
          </p>
          <p>
            This tool runs entirely in your browser, meaning your data never leaves
            your device, ensuring privacy and security.
          </p>
        </section>

        <hr>

        <section style="margin-top:30px;">
          <h2>More about JSON</h2>
          <ul>
            <li>
              <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener">
                Official JSON Specification
              </a>
              — The original JSON syntax reference.
            </li>

            <li>
              <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON" target="_blank"
                rel="noopener">
                JSON Guide on MDN
              </a>
              — Comprehensive explanation with JavaScript examples.
            </li>

            <li>
              <a href="https://www.rfc-editor.org/rfc/rfc8259" target="_blank" rel="noopener">
                RFC 8259 (IETF Standard)
              </a>
              — The official Internet standard defining JSON.
            </li>

            <li>
              <a href="https://www.w3schools.com/js/js_json_intro.asp" target="_blank" rel="noopener">
                JSON Tutorial (W3Schools)
              </a>
              — Beginner-friendly introduction.
            </li>
          </ul>
        </section>

      </div>

      <footer class="site-footer">
        <div class="footer-inner">
          <div class="footer-left">
            <strong>JSON Validator</strong>
            <span>© 2025 All rights reserved.</span>
          </div>

          <nav class="footer-links">
            <a href="about.html">About</a>
            <a href="privacy-policy.html">Privacy Policy</a>
          </nav>
        </div>
      </footer>
    </div>
  </div>
  <script>
    const el = (id) => document.getElementById(id);

    // Validator elements
    const input = el("jsonInput");
    const btnValidate = el("btnValidate");
    const btnFormat = el("btnFormat");
    const btnMinify = el("btnMinify");
    const btnCopy = el("btnCopy");
    const btnClear = el("btnClear");
    const btnSample = el("btnSample");
    const btnSort = el("btnSort");

    const statChars = el("statChars");
    const statLines = el("statLines");
    const statusMsg = el("statusMsg");

    function setStatus(type, title, message) {
      const iconClass = type === "good" ? "good" : type === "bad" ? "bad" : "warn";
      statusMsg.innerHTML = `
        <span class="icon ${iconClass}" aria-hidden="true"></span>
        <div>
          <strong>${escapeHtml(title)}</strong>
          <p>${escapeHtml(message)}</p>
        </div>
      `;
    }

    function escapeHtml(str) {
      return String(str)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    function updateStats() {
      const text = input.value || "";
      statChars.textContent = `${text.length} characters`;
      const lines = text.length ? (text.match(/\n/g)?.length ?? 0) + 1 : 0;
      statLines.textContent = `${lines} lines`;
    }

    function tryParseJson(text) {
      const clean = text.replace(/^\uFEFF/, "").trim();
      if (!clean) {
        return { ok: false, error: new Error("Empty input. Paste JSON to validate.") };
      }
      try {
        const value = JSON.parse(clean);
        return { ok: true, value, clean };
      } catch (err) {
        return { ok: false, error: err, clean };
      }
    }

    function extractErrorPosition(err) {
      const msg = String(err && err.message ? err.message : "");
      // Chrome/Edge/Node: "... at position 12"
      let m = msg.match(/position\s+(\d+)/i);
      if (m) return Number(m[1]);

      // Firefox: "... at line 1 column 2 ..."
      m = msg.match(/line\s+(\d+)\s+column\s+(\d+)/i);
      if (m) return { line: Number(m[1]), col: Number(m[2]) };

      return null;
    }

    function posToLineCol(text, pos) {
      const upto = text.slice(0, Math.max(0, pos));
      const lines = upto.split("\n");
      const line = lines.length;
      const col = lines[lines.length - 1].length + 1;
      return { line, col };
    }

    function selectLine(lineNumber) {
      const text = input.value;
      const lines = text.split("\n");
      const ln = Math.min(Math.max(1, lineNumber), lines.length);
      let start = 0;
      for (let i = 1; i < ln; i++) start += lines[i - 1].length + 1;
      const end = start + lines[ln - 1].length;
      input.focus();
      input.setSelectionRange(start, end);
    }

    function validate() {
      const raw = input.value;
      const { ok, value, error, clean } = tryParseJson(raw);

      if (ok) {
        const type = Array.isArray(value) ? "array" : (value === null ? "null" : typeof value);
        setStatus("good", "Valid JSON ✅", `Root type: ${type}.`);
        return true;
      }

      const posInfo = extractErrorPosition(error);

      if (posInfo && typeof posInfo === "object" && "line" in posInfo) {
        setStatus("bad", "Invalid JSON ❌", `${error.message} (line ${posInfo.line}, column ${posInfo.col})`);
        selectLine(posInfo.line);
        return false;
      }

      if (typeof posInfo === "number") {
        const lc = posToLineCol(clean, posInfo);
        setStatus("bad", "Invalid JSON ❌", `${error.message} (line ${lc.line}, column ${lc.col})`);
        selectLine(lc.line);
        return false;
      }

      setStatus("bad", "Invalid JSON ❌", error.message || "Failed to validate JSON.");
      return false;
    }

    function sortKeysRecursive(obj) {
      if (Array.isArray(obj)) {
        return obj.map(sortKeysRecursive);
      }

      if (obj !== null && typeof obj === "object") {
        const sorted = {};
        Object.keys(obj)
          .sort((a, b) => a.localeCompare(b))
          .forEach(key => {
            sorted[key] = sortKeysRecursive(obj[key]);
          });
        return sorted;
      }

      return obj;
    }

    function sortJsonKeys() {
      const raw = input.value;
      const { ok, value } = tryParseJson(raw);
      if (!ok) { validate(); return; }

      const sorted = sortKeysRecursive(value);
      input.value = JSON.stringify(sorted, null, 2);

      updateStats();
      setStatus("good", "Sorted ✅", "JSON keys sorted alphabetically.");
    }

    function formatJson() {
      const raw = input.value;
      const { ok, value } = tryParseJson(raw);
      if (!ok) { validate(); return; }
      input.value = JSON.stringify(value, null, 2);
      updateStats();
      setStatus("good", "Formatted ✅", "Pretty-printed with 2-space indentation.");
    }

    function minifyJson() {
      const raw = input.value;
      const { ok, value } = tryParseJson(raw);
      if (!ok) { validate(); return; }
      input.value = JSON.stringify(value);
      updateStats();
      setStatus("good", "Minified ✅", "All whitespace removed.");
    }

    async function copyToClipboard() {
      const text = input.value;
      if (!text.trim()) {
        setStatus("warn", "Nothing to copy.", "Paste or generate JSON before copying.");
        return;
      }
      try {
        await navigator.clipboard.writeText(text);
        setStatus("good", "Copied ✅", "Copied to clipboard.");
      } catch {
        input.focus();
        input.select();
        const ok = document.execCommand("copy");
        setStatus(ok ? "good" : "bad",
          ok ? "Copied ✅" : "Copy failed ❌",
          ok ? "Copied to clipboard." : "Your browser blocked automatic copy."
        );
      }
    }

    function clearAll() {
      input.value = "";
      updateStats();
      setStatus("warn", "Cleared.", "Paste JSON and click Validate.");
      input.focus();
    }

    function insertSample() {
      input.value = JSON.stringify({
        user: "John Snow",
        knows: { what: "nothing", amount: 0 },
        tools: ["validator", "formatter"],
        active: true
      }, null, 2);
      updateStats();
      setStatus("warn", "Sample inserted.", "Try validating, formatting, or minifying.");
      input.focus();
    }

    // Events
    input.addEventListener("input", updateStats);

    btnValidate.addEventListener("click", validate);
    btnFormat.addEventListener("click", formatJson);
    btnMinify.addEventListener("click", minifyJson);
    btnCopy.addEventListener("click", copyToClipboard);
    btnClear.addEventListener("click", clearAll);
    btnSample.addEventListener("click", insertSample);
    btnSort.addEventListener("click", sortJsonKeys);

    // Keyboard shortcuts
    document.addEventListener("keydown", (e) => {
      const isCmd = e.metaKey || e.ctrlKey;
      if (!isCmd) return;

      const key = e.key.toLowerCase();
      if (key === "enter") { e.preventDefault(); validate(); }
      if (key === "b") { e.preventDefault(); formatJson(); }
      if (key === "m") { e.preventDefault(); minifyJson(); }
    });

    // Init
    updateStats();
  </script>
</body>

</html>